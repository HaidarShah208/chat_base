!function(){"use strict";new class{constructor(){this.config={},this.container=null,this.isOpen=!1,this.messages=[],this.init()}init(){window.ChatbotWidget={init:e=>this.initializeWidget(e),open:()=>this.openWidget(),close:()=>this.closeWidget(),sendMessage:e=>this.sendMessage(e),destroy:()=>this.destroyWidget()},this.autoInitialize()}autoInitialize(){const e=document.currentScript;if(e){const t={};t.chatbotId=e.getAttribute("data-chatbot-id")||"default",t.position=e.getAttribute("data-position")||"bottom-right",t.primaryColor=e.getAttribute("data-primary-color")||"#000000",t.title=e.getAttribute("data-title")||"Chat Supports",t.welcomeMessage=e.getAttribute("data-welcome-message")||"Hi! How can I help you todays?",t.placeholder=e.getAttribute("data-placeholder")||"Type your message...",t.poweredByText=e.getAttribute("data-powered-by")||"Powered by ChatBase",Object.keys(t).length>0&&this.initializeWidget(t)}}initializeWidget(e){if(this.container)console.warn("Chatbot widget is already initialized");else{this.config={...this.getDefaultConfig(),...e};try{this.createWidget(),console.log("Chatbot widget initialized successfully")}catch(t){console.error("Failed to initialize chatbot widget:",t)}}}getDefaultConfig(){return{chatbotId:"default",position:"bottom-right",primaryColor:"#000000",title:"Chat Support",welcomeMessage:"Hi! How can I help you today?",placeholder:"Type your message...",poweredByText:"Powered by ChatBase"}}createWidget(){this.container=document.createElement("div"),this.container.id="chatbot-widget-container",this.container.style.cssText="\n                position: fixed;\n                z-index: 9999;\n                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n            ",document.body.appendChild(this.container);const e=this.createWidgetHTML();this.container.innerHTML=e,this.addMessage(this.config.welcomeMessage,!1),this.attachEventListeners()}createWidgetHTML(){const e=this.config.position,t=e.includes("bottom"),n=e.includes("right");return`\n                <div id="chatbot-widget" style="\n                    position: fixed;\n                    ${t?"bottom: 16px;":"top: 16px;"}\n                    ${n?"right: 16px;":"left: 16px;"}\n                    width: 350px;\n                    height: 500px;\n                    background: white;\n                    border-radius: 12px;\n                    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);\n                    border: 1px solid #e5e7eb;\n                    display: none;\n                    flex-direction: column;\n                    z-index: 9999;\n                ">\n                    <div style="\n                        padding: 16px;\n                        border-bottom: 1px solid #f3f4f6;\n                        display: flex;\n                        align-items: center;\n                        justify-content: space-between;\n                        background-color: ${this.config.primaryColor};\n                        color: white;\n                        border-radius: 12px 12px 0 0;\n                    ">\n                        <div style="display: flex; align-items: center; gap: 8px;">\n                            <div style="width: 8px; height: 8px; border-radius: 50%; background: #10b981;"></div>\n                            <h3 style="font-size: 14px; font-weight: 600; margin: 0;">${this.config.title}</h3>\n                        </div>\n                        <button id="chatbot-close" style="\n                            background: none;\n                            border: none;\n                            color: white;\n                            cursor: pointer;\n                            padding: 4px;\n                            border-radius: 4px;\n                            font-size: 16px;\n                        ">âœ•</button>\n                    </div>\n                    \n                    <div id="chatbot-messages" style="\n                        flex: 1;\n                        overflow-y: auto;\n                        padding: 16px;\n                        display: flex;\n                        flex-direction: column;\n                        gap: 12px;\n                    ">\n                    </div>\n                    \n                    <div style="\n                        padding: 16px;\n                        border-top: 1px solid #f3f4f6;\n                        display: flex;\n                        align-items: center;\n                        gap: 8px;\n                    ">\n                        <input id="chatbot-input" type="text" placeholder="${this.config.placeholder}" style="\n                            flex: 1;\n                            padding: 8px 12px;\n                            border: 1px solid #d1d5db;\n                            border-radius: 20px;\n                            font-size: 14px;\n                            outline: none;\n                            background-color: #f9fafb;\n                        ">\n                        <button id="chatbot-send" style="\n                            background: ${this.config.primaryColor};\n                            border: none;\n                            border-radius: 50%;\n                            width: 32px;\n                            height: 32px;\n                            display: flex;\n                            align-items: center;\n                            justify-content: center;\n                            cursor: pointer;\n                            color: white;\n                            font-size: 14px;\n                        ">âž¤</button>\n                    </div>\n                    \n                    <div style="\n                        padding: 8px 16px;\n                        background-color: #fafafa;\n                        border-top: 1px solid #f3f4f6;\n                        text-align: center;\n                        border-radius: 0 0 12px 12px;\n                    ">\n                        <p style="font-size: 11px; color: #6b7280; margin: 0;">ðŸ¤– ${this.config.poweredByText}</p>\n                    </div>\n                </div>\n                \n                <button id="chatbot-toggle" style="\n                    position: fixed;\n                    ${t?"bottom: 16px;":"top: 16px;"}\n                    ${n?"right: 16px;":"left: 16px;"}\n                    width: 56px;\n                    height: 56px;\n                    border-radius: 50%;\n                    background-color: ${this.config.primaryColor};\n                    border: none;\n                    color: white;\n                    cursor: pointer;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n                    transition: transform 0.2s ease;\n                    z-index: 9998;\n                    font-size: 24px;\n                ">ðŸ’¬</button>\n            `}attachEventListeners(){const e=document.getElementById("chatbot-toggle"),t=document.getElementById("chatbot-close"),n=document.getElementById("chatbot-send"),i=document.getElementById("chatbot-input");e&&(e.addEventListener("click",()=>this.toggleWidget()),e.addEventListener("mouseenter",()=>{e.style.transform="scale(1.1)"}),e.addEventListener("mouseleave",()=>{e.style.transform="scale(1)"})),t&&t.addEventListener("click",()=>this.closeWidget()),n&&i&&(n.addEventListener("click",()=>this.handleSendMessage()),i.addEventListener("keypress",e=>{"Enter"===e.key&&this.handleSendMessage()}))}toggleWidget(){const e=document.getElementById("chatbot-widget");if(e&&(this.isOpen=!this.isOpen,e.style.display=this.isOpen?"flex":"none",this.isOpen)){const e=document.getElementById("chatbot-input");e&&e.focus()}}openWidget(){const e=document.getElementById("chatbot-widget");if(e){this.isOpen=!0,e.style.display="flex";const t=document.getElementById("chatbot-input");t&&t.focus()}}closeWidget(){const e=document.getElementById("chatbot-widget");e&&(this.isOpen=!1,e.style.display="none")}handleSendMessage(){const e=document.getElementById("chatbot-input"),t=e.value.trim();t&&(this.addMessage(t,!0),e.value="",setTimeout(()=>{this.addMessage(`Thanks for your message: "${t}". This is a demo response.`,!1)},1e3))}addMessage(e,t){const n=document.getElementById("chatbot-messages");if(!n)return;const i=document.createElement("div");i.style.cssText=`\n                display: flex;\n                justify-content: ${t?"flex-end":"flex-start"};\n            `,i.innerHTML=`\n                <div style="\n                    max-width: 80%;\n                    padding: 8px 12px;\n                    border-radius: ${t?"12px 12px 4px 12px":"12px 12px 12px 4px"};\n                    background-color: ${t?this.config.primaryColor:"#f3f4f6"};\n                    color: ${t?"white":"#374151"};\n                    font-size: 14px;\n                    line-height: 1.4;\n                ">${e}</div>\n            `,n.appendChild(i),n.scrollTop=n.scrollHeight}sendMessage(e){console.log("Sending message:",e),this.addMessage(e,!0)}destroyWidget(){this.container&&(this.container.remove(),this.container=null)}}}();
